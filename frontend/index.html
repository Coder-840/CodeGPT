<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Coder Chat</title>
<style>
body { font-family: Arial; background: #1e1e1e; color: #eee; display:flex; flex-direction:column; align-items:center; margin:0; padding:0; }
#chat { width: 80%; max-width: 600px; flex:1; overflow-y:auto; margin-top:20px; }
.message { margin:10px 0; padding:10px; border-radius:8px; }
.user { background:#007ACC; color:white; text-align:right; }
.ai { background:#333; text-align:left; }
#input { width:80%; max-width:600px; margin:20px 0; display:flex; }
#input input { flex:1; padding:10px; border-radius:8px; border:none; }
#input button { padding:10px; margin-left:10px; border:none; border-radius:8px; background:#007ACC; color:white; cursor:pointer; }
</style>
</head>
<body>
<div id="chat"></div>
<div id="input">
<input type="text" id="prompt" placeholder="Ask me something..."/>
<button onclick="send()">Send</button>
</div>
<script>
async function send() {
    const input = document.getElementById("prompt");
    const chat = document.getElementById("chat");
    const msg = input.value;
    if(!msg) return;
    chat.innerHTML += `<div class="message user">${msg}</div>`;
    input.value = "";
    const res = await fetch(`/predict?prompt=${encodeURIComponent(msg)}`);
    const data = await res.json();
    chat.innerHTML += `<div class="message ai">${data.response}</div>`;
    chat.scrollTop = chat.scrollHeight;
}
</script>
</body>
</html>
