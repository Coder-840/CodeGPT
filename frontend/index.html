<!-- File: frontend/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Scratch Coding AI</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        #chatbox { border:1px solid #ccc; padding:10px; width:500px; height:400px; overflow-y:scroll; }
        #userinput { width:400px; }
    </style>
</head>
<body>
    <h2>Scratch Coding AI Chat</h2>
    <div id="chatbox"></div>
    <input type="text" id="userinput" placeholder="Type coding question...">
    <button onclick="sendMessage()">Send</button>

    <script>
        async function sendMessage() {
            let input = document.getElementById("userinput").value;
            if(input=="") return;
            appendMessage("You: "+input);
            document.getElementById("userinput").value="";
            let res = await fetch("/chat",{
                method:"POST",
                headers:{"Content-Type":"application/json"},
                body: JSON.stringify({message: input})
            });
            let data = await res.json();
            appendMessage("AI: "+data.response);
        }
        function appendMessage(msg){
            let box = document.getElementById("chatbox");
            box.innerHTML += msg + "<br>";
            box.scrollTop = box.scrollHeight;
        }
    </script>
</body>
</html>
